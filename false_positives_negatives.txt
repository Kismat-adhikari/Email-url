FALSE POSITIVES & FALSE NEGATIVES AUDIT
========================================
Analysis of edge cases where our intermediate-level validator differs from RFC 5322

FALSE NEGATIVES (Valid in real life, but our validator marks INVALID):
=======================================================================

1. "john.doe"@example.com
   STATUS: Our validator marks INVALID
   REASON: Quoted strings in local part are RFC-valid but we don't support quotes
   REAL WORLD: Rare but technically valid per RFC 5322
   OUR RULE: Only allows alphanumeric, dot, hyphen, underscore, plus

2. "user@domain"@example.com
   STATUS: Our validator marks INVALID
   REASON: Quoted strings can contain @ symbols, but we reject multiple @
   REAL WORLD: Extremely rare, but RFC-valid
   OUR RULE: Exactly one @ symbol required

3. user\ name@example.com
   STATUS: Our validator marks INVALID
   REASON: Backslash escaping is RFC-valid but we don't support it
   REAL WORLD: Very rare in practice
   OUR RULE: No backslash allowed in our character set

4. user\@host@example.com
   STATUS: Our validator marks INVALID
   REASON: Escaped @ in local part is RFC-valid
   REAL WORLD: Extremely rare
   OUR RULE: We count @ symbols and find 2, so reject

5. user(comment)@example.com
   STATUS: Our validator marks INVALID
   REASON: Comments in parentheses are RFC-valid
   REAL WORLD: Rare but used in some legacy systems
   OUR RULE: Parentheses not in our allowed character set

6. user@[192.168.1.1]
   STATUS: Our validator marks INVALID
   REASON: IP addresses in brackets are RFC-valid for domain part
   REAL WORLD: Used in some technical contexts
   OUR RULE: Brackets not allowed, and we require dots in domain (but no TLD check for IPs)

7. user@[IPv6:2001:db8::1]
   STATUS: Our validator marks INVALID
   REASON: IPv6 addresses are RFC-valid
   REAL WORLD: Used in modern networking contexts
   OUR RULE: Brackets and colons not allowed in domain

8. mailhost!user@example.com
   STATUS: Our validator marks INVALID
   REASON: Bang paths (UUCP) are obsolete but were once valid
   REAL WORLD: Legacy systems only
   OUR RULE: Exclamation mark not in allowed character set

9. user%example.com@relay.com
   STATUS: Our validator marks INVALID
   REASON: Percent sign for routing is RFC-valid
   REAL WORLD: Used in some email routing scenarios
   OUR RULE: Percent allowed in local part, so this might actually be VALID

10. user@example.com (John Doe)
    STATUS: Our validator marks INVALID
    REASON: Trailing comments are RFC-valid
    REAL WORLD: Rare but used in some email headers
    OUR RULE: Parentheses not allowed, space causes rejection

11. "user..name"@example.com
    STATUS: Our validator marks INVALID
    REASON: Consecutive dots allowed inside quoted strings
    REAL WORLD: Rare but technically valid
    OUR RULE: We reject consecutive dots everywhere

12. ".user"@example.com
    STATUS: Our validator marks INVALID
    REASON: Leading dots allowed inside quoted strings
    REAL WORLD: Rare but technically valid
    OUR RULE: We reject leading dots

13. "user."@example.com
    STATUS: Our validator marks INVALID
    REASON: Trailing dots allowed inside quoted strings
    REAL WORLD: Rare but technically valid
    OUR RULE: We reject trailing dots

14. user@localhost
    STATUS: Our validator marks INVALID
    REASON: Single-label domains are valid in local networks
    REAL WORLD: Common in development and internal networks
    OUR RULE: We require at least one dot in domain

15. user@example
    STATUS: Our validator marks INVALID
    REASON: Single-label domains valid in some contexts
    REAL WORLD: Used in intranets and local networks
    OUR RULE: We require at least one dot in domain

16. postmaster@example.com
    STATUS: Our validator marks VALID (correctly)
    NOTE: This is actually valid, included for completeness

17. user@sub_domain.example.com
    STATUS: Our validator marks INVALID
    REASON: Underscores technically not allowed in DNS but some systems use them
    REAL WORLD: Some systems accept underscores in hostnames
    OUR RULE: We only allow alphanumeric and hyphens in domain labels

18. user@example.co.uk
    STATUS: Our validator marks VALID (correctly)
    NOTE: Multi-level TLDs are properly supported

19. user@123.456.789.012
    STATUS: Our validator marks VALID
    REASON: Looks like IP but without brackets, treated as domain
    REAL WORLD: Invalid as IP format, but valid as domain name structure
    OUR RULE: We allow numeric domain labels

20. user@example.museum
    STATUS: Our validator marks VALID (correctly)
    NOTE: Long TLDs are properly supported


FALSE POSITIVES (Our validator marks VALID, but invalid per strict RFC or real-world):
=======================================================================================

21. user@123.456.789.012
    STATUS: Our validator marks VALID
    REASON: We treat it as a domain name with numeric labels
    REAL WORLD: Invalid IP address (numbers > 255), not a real domain
    RFC: Should be in brackets if IP, otherwise invalid IP format
    OUR RULE: We allow numeric domain labels without IP validation

22. user@domain.123
    STATUS: Our validator marks VALID
    REASON: We allow numeric TLDs if >= 2 characters
    REAL WORLD: No purely numeric TLDs exist in reality
    RFC: Technically valid format, but IANA doesn't assign numeric TLDs
    OUR RULE: We only check TLD length, not actual TLD validity

23. user@domain.c0m
    STATUS: Our validator marks VALID
    REASON: Alphanumeric TLD with 3 characters
    REAL WORLD: .c0m doesn't exist (typo of .com)
    RFC: Valid format, but not a real TLD
    OUR RULE: We don't validate against actual TLD list

24. user@domain.co1
    STATUS: Our validator marks VALID
    REASON: Alphanumeric TLD with 3 characters
    REAL WORLD: .co1 doesn't exist
    RFC: Valid format, but not a real TLD
    OUR RULE: We don't validate against actual TLD list

25. user@domain.abcdefghijklmnopqrstuvwxyz
    STATUS: Our validator marks VALID
    REASON: TLD is >= 2 characters
    REAL WORLD: No TLD is this long (longest real TLD is ~24 chars)
    RFC: Valid format, but not a real TLD
    OUR RULE: We don't check maximum TLD length

26. user@do--main.example.com
    STATUS: Our validator marks VALID
    REASON: Consecutive hyphens allowed in middle of domain label
    REAL WORLD: IDN punycode uses --, but "do--main" isn't valid punycode
    RFC: Valid format, but may indicate malformed punycode
    OUR RULE: We only check hyphens at start/end of labels

27. user@xn--invalid.com
    STATUS: Our validator marks VALID
    REASON: Looks like valid domain structure
    REAL WORLD: May be invalid punycode (xn-- prefix indicates punycode)
    RFC: Valid format, but punycode validation not performed
    OUR RULE: We don't validate punycode encoding

28. user@domain.co.uk.us.au
    STATUS: Our validator marks VALID
    REASON: Multiple dots create valid label structure
    REAL WORLD: Unusual to have multiple country codes, likely invalid
    RFC: Valid format, but semantically questionable
    OUR RULE: We allow any number of domain labels

29. user@a.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z.com
    STATUS: Our validator marks VALID
    REASON: All labels are valid
    REAL WORLD: Extremely unlikely to exist, impractical
    RFC: Valid format, but no real domain has this many levels
    OUR RULE: We don't limit number of domain labels

30. user@domain.com.com.com.com
    STATUS: Our validator marks VALID
    REASON: Valid label structure
    REAL WORLD: Unusual pattern, likely typo or suspicious
    RFC: Valid format, but semantically odd
    OUR RULE: We allow repeated labels

31. aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@b.co
    STATUS: Our validator marks VALID
    REASON: 63 characters in local part (under 64 limit)
    REAL WORLD: Extremely unusual, likely not a real email
    RFC: Valid format, but impractical
    OUR RULE: We only check <= 64 characters

32. user@aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.com
    STATUS: Our validator marks VALID
    REASON: 61 characters in domain label (under 63 limit)
    REAL WORLD: Extremely unusual, likely not a real domain
    RFC: Valid format (labels can be up to 63 chars)
    OUR RULE: We don't check individual label length limits

33. user++++++++++++++++++++++++++++++++++++++++++++++++++++@example.com
    STATUS: Our validator marks VALID
    REASON: Plus signs are allowed in local part
    REAL WORLD: Unusual pattern, but Gmail-style tags use +
    RFC: Valid format
    OUR RULE: We allow unlimited plus signs

34. user----------@example.com
    STATUS: Our validator marks VALID
    REASON: Hyphens allowed in local part
    REAL WORLD: Unusual but technically valid
    RFC: Valid format
    OUR RULE: We allow hyphens anywhere in local part

35. user__________@example.com
    STATUS: Our validator marks VALID
    REASON: Underscores allowed in local part
    REAL WORLD: Unusual but valid
    RFC: Valid format
    OUR RULE: We allow underscores in local part

36. 0@0.00
    STATUS: Our validator marks VALID
    REASON: All numeric, but meets structure requirements
    REAL WORLD: .00 TLD doesn't exist
    RFC: Valid format, but not a real TLD
    OUR RULE: We allow numeric characters everywhere

37. user@domain.xn--
    STATUS: Our validator marks INVALID (correctly catches this)
    REASON: Domain label ends with hyphen
    NOTE: This is correctly rejected

38. user@-xn--domain.com
    STATUS: Our validator marks INVALID (correctly catches this)
    REASON: Domain label starts with hyphen
    NOTE: This is correctly rejected

39. user@domain.co-m
    STATUS: Our validator marks VALID
    REASON: Hyphen in TLD is allowed by our rules
    REAL WORLD: No TLDs contain hyphens (except punycode xn--)
    RFC: Valid format, but no such TLD exists
    OUR RULE: We allow hyphens in TLD (not at start/end)

40. user@domain.c-o-m
    STATUS: Our validator marks VALID
    REASON: Hyphens in TLD allowed
    REAL WORLD: No such TLD exists
    RFC: Valid format, but not a real TLD
    OUR RULE: We allow hyphens in any domain label including TLD


SUMMARY:
========

FALSE NEGATIVES (Valid but we reject): ~15 cases
- Mostly RFC 5322 advanced features we don't support:
  * Quoted strings
  * Comments
  * Escaped characters
  * IP addresses in brackets
  * Single-label domains (localhost)

FALSE POSITIVES (Invalid but we accept): ~20 cases
- Mostly real-world validation we don't perform:
  * Numeric-only TLDs (don't exist)
  * Invalid TLD names (typos, fake TLDs)
  * Punycode validation
  * IP address format validation
  * Unusual but technically valid patterns
  * Individual domain label length (63 char limit)

TRADE-OFFS:
===========
Our intermediate-level validator prioritizes:
✓ Simplicity and maintainability
✓ Common use cases (99%+ of real emails)
✓ Performance (no DNS lookups, no TLD database)
✓ Clear, understandable rules

It intentionally skips:
✗ RFC 5322 advanced features (quoted strings, comments)
✗ Real TLD validation (would require database)
✗ DNS/MX record checking
✗ Punycode/IDN validation
✗ IP address format validation

This is appropriate for an intermediate-level validator focused on structure
rather than deliverability or full RFC compliance.
